<!doctype html>
<html class="no-js" lang="zxx">

<head>
   <meta charset="utf-8">
   <meta http-equiv="x-ua-compatible" content="ie=edge">
   <title>MAF Fire Middle East LLC</title>
   <meta name="description" content="">
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <!-- Place favicon.ico in the root directory -->
   <link rel="shortcut icon" type="image/x-icon" href="assets/img/logo/fav.png">

   <!-- CSS here -->
   <link rel="stylesheet" href="assets/css/bootstrap.css">
   <link rel="stylesheet" href="assets/css/animate.css">
   <link rel="stylesheet" href="assets/css/swiper-bundle.css">
   <link rel="stylesheet" href="assets/css/slick.css">
   <link rel="stylesheet" href="assets/css/magnific-popup.css">
   <link rel="stylesheet" href="assets/css/flaticon_biddut.css">
   <link rel="stylesheet" href="assets/css/font-awesome-pro.css">
   <link rel="stylesheet" href="assets/css/spacing.css">
   <link rel="stylesheet" href="assets/css/custom-animation.css">
   <link rel="stylesheet" href="assets/css/main.css">
</head>

<body>

   <!-- pre loader area start -->
   <!-- Preloader -->
   <div id="loading">
     <div id="loading-center">
       <div id="loading-center-absolute">
         <img src="assets/img/logo/fav.png" alt="Loading..." class="preloader-img">
       </div>
     </div>
   </div>
   <!-- pre loader area end -->


     
     <div class="tooltip-popup" id="tooltip">
        Toll Free: <b>800</b> 623 427
      </div>

      <a href="tel:800623427" class="btn-whatsapp-pulse" title="Toll Free">
        <i class="fas fa-phone"></i>
      </a>

      <script>
        window.addEventListener("load", function () {
          const tooltip = document.getElementById("tooltip");
          tooltip.classList.add("show");
          
          setTimeout(() => {
            tooltip.classList.remove("show");
          }, 15000); // hides after 5 seconds
        });
      </script>

   <!-- back to top start 
   <div class="back-to-top-wrapper">
      <button id="back_to_top" type="button" class="back-to-top-btn">
         <svg width="12" height="7" viewBox="0 0 12 7" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 6L6 1L1 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
               stroke-linejoin="round" />
         </svg>
      </button>
   </div>
   back to top end -->


   <!-- tp-offcanvus-area-start -->
   <div class="tpoffcanvas-area">
      <div class="tpoffcanvas">
         <div class="tpoffcanvas__close-btn">
            <button class="close-btn"><i class="fal fa-times"></i></button>
         </div>
         <div class="tpoffcanvas__logo">
            <a href="https://maffire.com/">
               <img src="assets/img/logo/logo1.png" alt="">
            </a>
         </div>
         <div class="tp-main-menu-mobile d-xl-none"></div>
         <div class="tpoffcanvas__contact-info">
            <div class="tpoffcanvas__contact-title">
               <h5>Get Connected</h5>
            </div>
         </div>
         <div class="tpoffcanvas__social">
            <div class="social-icon">
               <a href="https://www.instagram.com/maffiremiddleeast/?hl=en"><i class="fab fa-instagram"></i></a>
               <a href="https://www.facebook.com/maffireae/"><i class="fab fa-facebook-f"></i></a>
               <a href="https://www.linkedin.com/company/maf-fire-middleeast/posts/?feedView=all"><i class="fab fa-linkedin-in"></i></a>
            </div>
         </div>
      </div>
   </div>
   <div class="body-overlay"></div>
   <!-- tp-offcanvus-area-end -->


   <header>
      <div class="tp-header-transparent">
      <!-- header top area start -->
         <div class="tp-header-top-area tp-header-top-wrap tp-header-top-space p-relative black-bg">
            <div class="container">
               <div class="row align-items-center">
                  <div class="col-xl-6 col-lg-8 col-md-8 col-sm-6">
                     <div class="tp-header-top-left-box text-center text-md-start">
                        <ul>
                           <li>
                              <i class="flaticon-location-1"></i>
                              <a href="https://maps.app.goo.gl/7E864MwBxnzcdPzH6">MAF Fire Middle East LLC</a>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="col-xl-6 col-lg-4 col-md-4 col-sm-6 d-none d-sm-block">
                     <div class="tp-header-top-right-box text-end">
                        <ul>
                           <li>
                              <div class="tp-header-top-right-social">
                                 <a href="https://www.facebook.com/maffireae/"><i class="fa-brands fa-facebook-f"></i></a>
                                 <a href="https://www.instagram.com/maffiremiddleeast/?hl=en"><i class="fa-brands fa-instagram"></i></a>
                                 <a href="https://www.linkedin.com/company/maf-fire-middleeast/posts/?feedView=all"><i class="fa-brands fa-linkedin-in"></i></a>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>      
         <!-- header top area end -->

         <!-- header area start -->
         <div id="header-sticky" class="tp-header-area tp-header-style-2">
            <div class="container custom-container-1">
               <div class="row align-items-center">
                  <div class="col-xxl-2 col-xl-2 col-lg-4 col-md-4 col-6">
                     <div class="tp-header-logo text-center " style="width:70px;">
                        <a href="https://maffire.com/">
                           <img src="assets/img/logo/fav.png" alt="">
                        </a>
                     </div>
                  </div>
                  <div class="col-xxl-5 col-xl-6 d-none d-xl-block">
                     <div class="tp-header-main-menu text-end text-xxl-end">
                        <nav class="tp-main-menu-content">
                           <ul>
                              <li>
                                 <a href="index.html">Home</a>
                              </li>
                              <li><a href="https://maffire.com/about-us/">About</a></li>
                              <li><a href="https://maffire.com/">Service</a></li>
                              <li><a href="https://maffire.com/">testimonial</a></li>
                              <li><a href="https://maffire.com/contact-us/">Contact</a></li>
                           </ul>
                        </nav>
                     </div>
                  </div>
                  <div class="col-xxl-5 col-xl-4 col-lg-8 col-md-8 col-6">
                     <div class="tp-header-right-box">
                        <div class="tp-header-right-action d-flex align-items-center justify-content-end">
                           <div class="tp-header-right-btn d-none d-md-block">
                              <a class="tp-btn hover-2" href="tel: 04 239 7910"><span>MAKE APPOINMENT</span></a>
                           </div>
                           <div class="tp-header-right-tel-box d-none d-xxl-block">
                              <div class="tp-header-right-tel-icon d-flex align-items-center">
                                 <i class="flaticon-phone-call"></i>
                                 <div class="tp-header-right-tel-content">
                                    <span>Talk to an expert </span>
                                    <a href="tel: 04 239 7910">04 239 7910</a>
                                 </div>
                              </div>
                           </div>
                           <div class="tp-header-bar d-xl-none">
                              <button class="tp-menu-bar"><i class="fa-sharp fa-regular fa-bars-staggered"></i></button>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <!-- header area end -->
      </div>
   </header>

   <main>

      <!-- breadcrumb area start -->
      <div class="breadcrumb__area breadcrumb__overlay breadcrumb__height p-relative fix" data-background="assets/img/breadcurmb/breadcurmb.jpg">
         <div class="container">
            <div class="row">
               <div class="col-xxl-12">
                  <div class="breadcrumb__content z-index d-flex justify-content-center align-items-end">
                     <div class="breadcrumb__section-title-box">
                        <h4 class="breadcrumb__subtitle text-center mb-20">MAF Fire Middle East LLC</h4>
                        <h3 class="breadcrumb__title text-center"><a href="#new_connection" class="highlight-link">New Gas Connection</a></h3>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- breadcrumb area end -->


      <!-- form area start -->
      <div class="tp-contact-form-area pt-120 pb-130" id="new_connection">
         <div class="container">
            <div class="row">
               <div class="col-xl-12">
                  <div class="tp-contact-form-border">
                     <h4 class="tp-contact-form-title">Apply for a new gas connection</h4>

                     
                        <form id="my-main-form" action="https://formsubmit.co/sales@mafgas.ae" method="POST" enctype="multipart/form-data">
                          <div class="row">
                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Region">Select Region <span style="color: red;">*</span></label>
                                <select name="Region" class="nice-select country-select wide" required>
                                  <option value="Abu Dhabi, Al Ain & Western Region">Abu Dhabi, Al Ain & Western Region</option>
                                  <option value="Dubai & Northern Emirates">Dubai & Northern Emirates</option>
                                </select>
                              </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                                <div class="tp-contact-form-input-box">
                                  <label for="nationality-search">Nationality <span style="color: red;">*</span></label>
                                  <div class="dropdown-container" style="position: relative;">
                                    <input
                                      type="text"
                                      id="nationality-search"
                                      name="Nationality"
                                      placeholder="Search nationality..."
                                      required
                                      autocomplete="off"
                                    >
                                    <div id="dropdown-list" class="dropdown-list"></div>
                                  </div>
                                </div>
                              </div>

                              <style>
                                .dropdown-list {
                                  border: 1px solid #ccc;
                                  max-height: 150px;
                                  overflow-y: auto;
                                  display: none;
                                  position: absolute;
                                  background: white;
                                  width: 100%;
                                  z-index: 10;
                                }

                                .dropdown-item {
                                  padding: 10px;
                                  cursor: pointer;
                                }

                                .dropdown-item:hover {
                                  background-color: #f0f0f0;
                                }
                              </style>

                              <script>
                                const nationalities = [
                                  "Afghan", "Albanian", "Algerian", "American", "Andorran", "Angolan", "Argentine", "Armenian",
                                  "Australian", "Austrian", "Azerbaijani", "Bahraini", "Bangladeshi", "Barbadian", "Belarusian",
                                  "Belgian", "Belizean", "Beninese", "Bhutanese", "Bolivian", "Bosnian", "Brazilian", "British",
                                  "Bruneian", "Bulgarian", "BurkinabÃ©", "Burmese", "Burundian", "Cambodian", "Cameroonian",
                                  "Canadian", "Cape Verdean", "Central African", "Chadian", "Chilean", "Chinese", "Colombian",
                                  "Comorian", "Congolese", "Costa Rican", "Croatian", "Cuban", "Cypriot", "Czech", "Danish",
                                  "Djiboutian", "Dominican", "Dutch", "East Timorese", "Ecuadorean", "Egyptian", "Emirati",
                                  "Equatorial Guinean", "Eritrean", "Estonian", "Ethiopian", "Fijian", "Finnish", "French",
                                  "Gabonese", "Gambian", "Georgian", "German", "Ghanaian", "Greek", "Grenadian", "Guatemalan",
                                  "Guinean", "Guinea-Bissauan", "Guyanese", "Haitian", "Honduran", "Hungarian", "Icelandic",
                                  "Indian", "Indonesian", "Iranian", "Iraqi", "Irish", "Israeli", "Italian", "Ivorian", "Jamaican",
                                  "Japanese", "Jordanian", "Kazakh", "Kenyan", "Kittitian", "Kuwaiti", "Kyrgyz", "Laotian", "Latvian",
                                  "Lebanese", "Liberian", "Libyan", "Liechtensteiner", "Lithuanian", "Luxembourger", "Macedonian",
                                  "Malagasy", "Malawian", "Malaysian", "Maldivian", "Malian", "Maltese", "Marshallese", "Mauritanian",
                                  "Mauritian", "Mexican", "Micronesian", "Moldovan", "Monacan", "Mongolian", "Montenegrin",
                                  "Moroccan", "Mozambican", "Namibian", "Nauruan", "Nepalese", "New Zealander", "Nicaraguan",
                                  "Nigerien", "Nigerian", "North Korean", "Norwegian", "Omani", "Pakistani", "Palauan", "Palestinian",
                                  "Panamanian", "Papua New Guinean", "Paraguayan", "Peruvian", "Philippine", "Polish", "Portuguese",
                                  "Qatari", "Romanian", "Russian", "Rwandan", "Saint Lucian", "Salvadoran", "Samoan", "San Marinese",
                                  "Saudi", "Scottish", "Senegalese", "Serbian", "Seychellois", "Sierra Leonean", "Singaporean",
                                  "Slovak", "Slovenian", "Solomon Islander", "Somali", "South African", "South Korean", "Spanish",
                                  "Sri Lankan", "Sudanese", "Surinamese", "Swazi", "Swedish", "Swiss", "Syrian", "Taiwanese",
                                  "Tajik", "Tanzanian", "Thai", "Togolese", "Tongan", "Trinidadian", "Tunisian", "Turkish",
                                  "Turkmen", "Tuvaluan", "Ugandan", "Ukrainian", "Uruguayan", "Uzbek", "Vanuatuan", "Venezuelan",
                                  "Vietnamese", "Welsh", "Yemeni", "Zambian", "Zimbabwean"
                                ];

                                const searchInput = document.getElementById('nationality-search');
                                const dropdownList = document.getElementById('dropdown-list');

                                function showDropdown(filtered) {
                                  dropdownList.innerHTML = '';
                                  if (filtered.length === 0) {
                                    dropdownList.style.display = 'none';
                                    return;
                                  }

                                  filtered.forEach(item => {
                                    const div = document.createElement('div');
                                    div.classList.add('dropdown-item');
                                    div.textContent = item;
                                    div.onclick = () => {
                                      searchInput.value = item;
                                      dropdownList.style.display = 'none';
                                    };
                                    dropdownList.appendChild(div);
                                  });

                                  dropdownList.style.display = 'block';
                                }

                                searchInput.addEventListener('input', () => {
                                  const val = searchInput.value.toLowerCase();
                                  const filtered = nationalities.filter(n => n.toLowerCase().includes(val));
                                  showDropdown(filtered);
                                });

                                document.addEventListener('click', function (e) {
                                  if (!e.target.closest('.dropdown-container')) {
                                    dropdownList.style.display = 'none';
                                  }
                                });
                              </script>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Full_Name">Full Name<span style="color: red;">*</span></label>
                                <input type="text" name="Full_Name" required>
                              </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Email">Email<span style="color: red;">*</span></label>
                                <input type="email" name="Email" required>
                              </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Mobile_Number">Mobile Number<span style="color: red;">*</span></label>
                                 <input type="text" name="Mobile_Number" 
                                        required 
                                        maxlength="10" 
                                        minlength="10" 
                                        pattern="\d{10}" 
                                        title="Enter a valid 10-digit mobile number"> 
                                 </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Land_Line">Land line</label>
                                <input type="text" name="Land_Line">
                              </div>
                            </div>

                            <div class="col-xl-6 col-lg-6 col-md-6 col-12 mb-20">
                              <label>Connection Type<span style="color: red;">*</span></label>
                              <div class="tp-contact-form-input-box">
                                <label><input type="radio" name="Connection_Type" value="Residential"> Residential</label>
                                <label><input type="radio" name="Connection_Type" value="Commercial"> Commercial</label>
                              </div>
                            </div>

                            <div class="col-xl-6 col-lg-6 col-md-6 col-12 mb-20">
                                 <!-- Residential -->
                                 <div id="residentialFields" style="display: none;">
                                   <label>Emirates Id<span style="color: red;">*</span></label>
                                    <input type="text" name="Emirates_Id" 
                                           class="mb-2" 
                                           id="emirates-id" 
                                           placeholder="784-YYYY-NNNNNNN-N" 
                                           pattern="784-\d{4}-\d{7}-\d{1}" 
                                           title="Format: 784-YYYY-NNNNNNN-N" 
                                           maxlength="19" 
                                           >
                                   <label>Upload Emirates Id</label>
                                   <input type="file" name="EmiratesId_File" accept=".jpg,.jpeg,.png,.pdf" class="mb-2"><br>

                                   <label>Upload Ejari or Tenancy Contract</label>
                                   <input type="file" name="Ejari_or_Tenancy_Document_R" accept=".jpg,.jpeg,.png,.pdf" class="mb-2">
                                 </div>
                                 <!-- Commercial -->
                                 <div id="commercialField" style="display: none;">
                                   <label>Other Id (Trade License, Embassy ID)<span style="color: red;">*</span></label>
                                   <input type="text" id="other-id" name="Other_Id" class="mb-2">

                                   <label>Upload VAT Certificate</label>
                                   <input type="file" name="VAT_File" accept=".jpg,.jpeg,.png,.pdf" class="mb-2">

                                   <label>Upload Trade License</label>
                                   <input type="file" name="Trade_License_File" accept=".jpg,.jpeg,.png,.pdf" class="mb-2">

                                   <label>Upload Ejari or Tenancy Contract</label>
                                   <input type="file" name="Ejari_or_Tenancy_Document_File_C" accept=".jpg,.jpeg,.png,.pdf" class="mb-2">

                                   <label>DCD Contract</label>
                                   <input type="file" name="DCD_Document_File" accept=".jpg,.jpeg,.png,.pdf" class="mb-2">

                                   <label>AMC Contract</label>
                                   <input type="file" name="AMC_Document_File" accept=".jpg,.jpeg,.png,.pdf" class="mb-2">

                                 </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Building_Name">Building Name <span style="color: red;">*</span></label>
                                <input type="text" name="Building_Name" required>
                              </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Apartment_Unit_No">Apartment/Villa/Unit No<span style="color: red;">*</span></label>
                                <input type="text" name="Apartment_Unit_No" required>
                              </div>
                            </div>

                            <div class="col-xl-4 col-lg-4 col-md-4 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Meter_Serial_Number">Meter Serial Number</label>
                                <input type="text" name="Meter_Serial_Number" >
                              </div>
                            </div>

                            <!-- Meter Reading -->
                            <div class="col-12 mb-20">
                                <label for="Current_Meter_Reading">Current Meter Reading<span style="color: red;">*</span></label>
                                <div id="reading-boxes" class="otp-container">
                                  <input type="text" maxlength="1" />
                                  <input type="text" maxlength="1" />
                                  <input type="text" maxlength="1" />
                                  <input type="text" maxlength="1" />
                                  <input type="text" maxlength="1" />
                                  
                                  <!-- Static dot instead of input -->
                                  <span class="static-dot">.</span>

                                  <input type="text" maxlength="1" />
                                  <input type="text" maxlength="1" />
                                  <input type="text" maxlength="1" />
                                  
                                  <input type="hidden" name="Meter_Reading" id="Meter_Reading">
                                </div>
                            </div>

                            <div class="col-xl-3 col-lg-3 col-md-3 col-12 mb-20">
                              <div class="tp-contact-form-input-box">
                                <label for="Meter_Reading_Image">Attach Reading Image</label>
                                <input type="file" name="Meter_Reading_Image" accept="image/*" capture="environment">
                              </div>
                            </div>

                            <!-- Hidden Fields for FormSubmit -->
                            <input type="hidden" name="_subject" value="New Gas Connection Request">
                            <input type="hidden" name="_captcha" value="false">

                          </div>

                          <button type="button" class="tp-btn float-end" onclick="openModal()"><span>Confirm</span></button>


                          <!-- Message area below the button -->
                          <p id="form-status" class="text-center m-2"></p>

                           <input type="hidden" name="_subject" value="New submission for Gas Connection! ">
                           <input type="hidden" name="_captcha" value="false">
                           <input type="hidden" name="_template" value="table">

                           

                            <!-- Terms & Conditions Modal -->
                              <div id="termsModal" class="modal-overlay" style="display: none;">
                                <div class="modal-box" style="max-width: 800px; max-height: 90vh; display: flex; flex-direction: column; background: #fff; border-radius: 8px; overflow: hidden;">

                                  <!-- Modal Header -->
                                  <div class="modal-header" style="padding: 16px; border-bottom: 1px solid #ccc;">
                                    <h3 style="margin: 0;">Terms and Conditions</h3>
                                  </div>

                                  <!-- Scrollable Terms Content -->
                                  <div class="modal-content" style="height:500px;padding: 16px; overflow-y: auto; flex: 1;">
                                    <ol style="padding-left: 20px;">
                                      <li>
                                        Bills are issued monthly based on meter readings or fixed rates, depending on the gas system installed.
                                      </li>
                                      <li>
                                        Payment is due within 7 days from the invoice date.
                                      </li>
                                      <li>
                                        Late payments may result in service disconnection and/or late fees.
                                      </li>
                                      <li>
                                        Billing disputes must be reported in writing within 7 working days of receiving the invoice.
                                      </li>
                                      <li>
                                        <strong>Installation & Maintenance</strong>
                                        <ul>
                                          <li>Initial setup, installation, or connection charges (if any) are payable by the Customer.</li>
                                          <li>Only Company-authorized technicians may carry out installations or modifications to gas appliances or piping.</li>
                                          <li>The Company is not responsible for damages caused by unauthorized modifications or third-party installations.</li>
                                        </ul>
                                      </li>
                                      <li>
                                        <strong>Safety and Liability</strong>
                                        <ul>
                                          <li>The Company adheres to safety guidelines set by Dubai Civil Defense and other regulatory bodies.</li>
                                          <li>The Customer shall not bypass safety devices or tamper with gas infrastructure.</li>
                                          <li>The Company is not liable for damages resulting from negligence, misuse, or third-party interference.</li>
                                        </ul>
                                      </li>
                                      <li>
                                        <strong>Termination</strong>
                                        <ul>
                                          <li>Either party may terminate this agreement with a 30-day written notice.</li>
                                          <li>A final meter reading will be taken and any outstanding charges must be settled.</li>
                                          <li>Security deposit refund is subject to final clearance and return of Company equipment.</li>
                                        </ul>
                                      </li>
                                      <li>
                                        <strong>Force Majeure</strong><br>
                                        The Company shall not be held liable for failure to provide service due to events beyond its control, such as natural disasters, supply interruptions, regulatory actions, or civil emergencies.
                                      </li>
                                      <li>
                                        <strong>Dispute Resolution</strong>
                                        <ul>
                                          <li>All efforts will be made to resolve disputes amicably.</li>
                                          <li>Unresolved disputes shall fall under the jurisdiction of the Dubai Courts.</li>
                                        </ul>
                                      </li>
                                      <li>
                                        <strong>Governing Law</strong><br>
                                        This agreement shall be governed in accordance with the laws of the United Arab Emirates, specifically the regulations applicable in the Emirate of Dubai.
                                      </li>
                                      <li>
                                        <strong>Acknowledgment</strong><br>
                                        By signing below, the Customer confirms they have read, understood, and agreed to the above terms and conditions.
                                      </li>
                                    </ol>
                                    <!-- Checkbox -->
                                    <label style="display: block; margin-bottom: 10px;">
                                      <input type="checkbox" id="accept-terms"> <b>I accept the terms and conditions</b>
                                    </label>

                                  </div>

                                  <!-- Fixed Footer -->
                                  <div class="modal-footer" style="padding: 16px; border-top: 1px solid #ccc; background-color: #f9f9f9;">
                                    
                                    <!-- Signature Area -->
                                    <div class="signature-container" style="margin-bottom: 10px;">
                                      <label>Draw Your Signature <span style="color:red">*</span></label>
                                      <canvas id="popup-signature-pad" width="500" height="200" style="width: 100%; border: 1px solid #ccc;"></canvas>
                                      <div class="buttons" style="margin-top: 10px;">
                                        <button type="button" onclick="clearSignature()">Clear</button>
                                        <button type="button" onclick="saveSignature()">Save Signature</button>
                                        <input type="file" name="Signature_File" id="signature-file" style="display: block; margin-top: 10px;" />
                                      </div>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div style="text-align: right; margin-top: 10px;">
                                      <button type="button" class="tp-btn" style="color: #fff;" onclick="submitForm()">Submit</button>
                                      <button type="button" class="tp-btn-secondary" onclick="closeModal()">Cancel</button>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              
                           </form>

                           <script>
                       // ================= Modal Open/Close =================
                       function openModal() {
                         document.getElementById("termsModal").style.display = "flex";
                       }

                       function closeModal() {
                         document.getElementById("termsModal").style.display = "none";
                       }

                       // ================= Signature Handling =================
                       const popupCanvas = document.getElementById('popup-signature-pad');
                       const popupCtx = popupCanvas.getContext('2d');
                       let drawing = false;

                       function resizeCanvas() {
                         // Resize canvas to be full width (max 500px) and fixed height 150px
                         popupCanvas.width = Math.min(window.innerWidth * 0.8, 500);
                         popupCanvas.height = 150;

                         // Fill white background
                         popupCtx.fillStyle = "#fff";
                         popupCtx.fillRect(0, 0, popupCanvas.width, popupCanvas.height);
                       }

                       // Initial resize
                       resizeCanvas();

                       window.addEventListener('resize', resizeCanvas);

                       function getPos(e) {
                         const rect = popupCanvas.getBoundingClientRect();
                         if (e.touches && e.touches.length > 0) {
                           return {
                             x: e.touches[0].clientX - rect.left,
                             y: e.touches[0].clientY - rect.top
                           };
                         } else {
                           return {
                             x: e.clientX - rect.left,
                             y: e.clientY - rect.top
                           };
                         }
                       }

                       function startDraw(e) {
                         drawing = true;
                         const pos = getPos(e);
                         popupCtx.beginPath();
                         popupCtx.moveTo(pos.x, pos.y);
                         e.preventDefault();
                       }

                       function draw(e) {
                         if (!drawing) return;
                         const pos = getPos(e);
                         popupCtx.lineTo(pos.x, pos.y);
                         popupCtx.strokeStyle = "#000";  // Black color
                         popupCtx.lineWidth = 1;
                         popupCtx.lineCap = "round";
                         popupCtx.stroke();
                         e.preventDefault();
                       }

                       function stopDraw(e) {
                         if (!drawing) return;
                         drawing = false;
                         e.preventDefault();
                       }

                       // Mouse events
                       popupCanvas.addEventListener('mousedown', startDraw);
                       popupCanvas.addEventListener('mousemove', draw);
                       popupCanvas.addEventListener('mouseup', stopDraw);
                       popupCanvas.addEventListener('mouseleave', stopDraw);

                       // Touch events
                       popupCanvas.addEventListener('touchstart', startDraw, { passive: false });
                       popupCanvas.addEventListener('touchmove', draw, { passive: false });
                       popupCanvas.addEventListener('touchend', stopDraw);
                       popupCanvas.addEventListener('touchcancel', stopDraw);

                       // Clear the signature pad
                       function clearSignature() {
                         popupCtx.clearRect(0, 0, popupCanvas.width, popupCanvas.height);
                         popupCtx.fillStyle = "#fff";
                         popupCtx.fillRect(0, 0, popupCanvas.width, popupCanvas.height);
                         document.getElementById("signature-file").value = '';
                       }

                       // Save the signature as a PNG and put it into hidden file input
                       function saveSignature() {
                         // Check if blank
                         const blankCanvas = document.createElement('canvas');
                         blankCanvas.width = popupCanvas.width;
                         blankCanvas.height = popupCanvas.height;
                         const blankCtx = blankCanvas.getContext('2d');
                         blankCtx.fillStyle = "#fff";
                         blankCtx.fillRect(0, 0, blankCanvas.width, blankCanvas.height);

                         if (popupCanvas.toDataURL() === blankCanvas.toDataURL()) {
                           alert("Please sign before saving.");
                           return;
                         }

                         popupCanvas.toBlob(function(blob) {
                           const file = new File([blob], "signature.png", { type: "image/png" });
                           const dt = new DataTransfer();
                           dt.items.add(file);
                           document.getElementById("signature-file").files = dt.files;
                           alert("Signature saved!");
                         });
                       }

                       // ================= Final Form Submit =================
                       function submitForm() {
                         const accepted = document.getElementById("accept-terms").checked;
                         const sigFile = document.getElementById("signature-file");

                         if (!accepted) {
                           alert("You must accept the terms and conditions.");
                           return;
                         }

                         if (!sigFile.files || sigFile.files.length === 0) {
                           alert("Please draw and save your signature.");
                           return;
                         }

                         document.getElementById("termsModal").style.display = "none";
                         document.getElementById("my-main-form").requestSubmit();
                       }

                       // ================= Emirates ID Formatter =================
                       document.getElementById("emirates-id").addEventListener("input", function (e) {
                         let value = e.target.value.replace(/\D/g, "").substring(0, 15);
                         let formatted = "";

                         if (value.length > 0) formatted = value.substring(0, 3);
                         if (value.length >= 4) formatted += "-" + value.substring(3, 7);
                         if (value.length >= 8) formatted += "-" + value.substring(7, 14);
                         if (value.length >= 15) formatted += "-" + value.substring(14, 15);

                         e.target.value = formatted;
                       });

                       // ================= Connection Type Toggle =================
                       document.querySelectorAll('input[name="Connection_Type"]').forEach(radio => {
                         radio.addEventListener('change', function () {
                           const emiratesIdField = document.getElementById("emirates-id");
                           const otherIdField = document.getElementById("other-id");

                           if (this.value === "Residential") {
                             document.getElementById("residentialFields").style.display = "block";
                             document.getElementById("commercialField").style.display = "none";
                             emiratesIdField.required = true;
                             otherIdField.required = false;
                           } else {
                             document.getElementById("residentialFields").style.display = "none";
                             document.getElementById("commercialField").style.display = "block";
                             emiratesIdField.required = false;
                             otherIdField.required = true;
                           }
                         });
                       });

                       // ================= Meter Reading Logic =================
                       const inputs = document.querySelectorAll('#reading-boxes input[type="text"]:not([disabled])');
                       inputs.forEach((input, index) => {
                         input.addEventListener('input', () => {
                           if (!/^\d$/.test(input.value)) {
                             input.value = '';
                             return;
                           }
                           if (input.value && index < inputs.length - 1) {
                             inputs[index + 1].focus();
                           }
                         });

                         input.addEventListener('keydown', (e) => {
                           if (e.key === 'Backspace' && input.value === '' && index > 0) {
                             inputs[index - 1].focus();
                           }
                         });

                         input.addEventListener('paste', (e) => {
                           e.preventDefault();
                           const paste = e.clipboardData.getData('text').replace(/\D/g, '');
                           paste.split('').forEach((char, i) => {
                             if (i < inputs.length) inputs[i].value = char;
                           });
                           if (paste.length > 0 && inputs[0]) inputs[0].focus();
                         });
                       });

                       // ================= Form Submission =================
                       document.getElementById("my-main-form").addEventListener("submit", async function (event) {
                         event.preventDefault();
                         const form = event.target;
                         const status = document.getElementById("form-status");

                         // Combine meter digits
                         const meterInputs = form.querySelectorAll('#reading-boxes input[type="text"]:not([disabled])');
                         let meterReading = '';
                         meterInputs.forEach((input, index) => {
                           meterReading += input.value;
                           if (index === 4) meterReading += '.';
                         });
                         document.getElementById('Meter_Reading').value = meterReading;

                         status.innerHTML = "<span style='color: blue;'>Submitting...</span>";

                         // Get current timestamp for uniqueness
                         const timestamp = new Date().toISOString().replace(/[:.]/g, '-');

                         const formData = new FormData(form);

                         // Re-append renamed files
                         ['Ejari_Document_File_R', 'Ejari_Document_File_C', 'EmiratesId_File', 'VAT_File', 'Trade_License_File', 'Meter_Reading_Image', 'Signature_File'].forEach(id => {
                           const input = form.querySelector(`[name="${id}"]`);
                           if (input && input.files.length > 0) {
                             const file = input.files[0];
                             const newFile = new File([file], `${timestamp}_${file.name}`, { type: file.type });
                             formData.delete(id);
                             formData.append(id, newFile);
                           }
                         });

                         try {
                           const response = await fetch(form.action, {
                             method: form.method,
                             body: formData,
                             headers: { 'Accept': 'application/json' }
                           });

                           if (response.ok) {
                             status.innerHTML = "<span style='color: green;'>Thanks for your submission! We will connect you soon with in 24 hours.</span>";
                             form.reset();
                             document.getElementById("residentialFields").style.display = "none";
                             document.getElementById("commercialField").style.display = "none";
                           } else {
                             const result = await response.json();
                             status.innerHTML = result.errors
                               ? "<span style='color: red;'>" + result.errors.map(e => e.message).join(", ") + "</span>"
                               : "<span style='color: red;'>Oops! There was a problem submitting your form.</span>";
                           }
                         } catch (error) {
                           status.innerHTML = "<span style='color: red;'>Oops! There was a network error.</span>";
                         }
                       });
                     </script>


                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- form area end -->

      <!-- map area end -->
      <div class="tp-map-area">
         <div class="tp-map__item">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3607.3738562930357!2d55.40117718014114!3d25.291640420023036!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e5f5fbb67a5eb39%3A0x135ce32e4209841b!2sMAF%20FIRE%20-%20MAF%20Fire%20Middle%20East%20L.L.C!5e0!3m2!1sen!2sae!4v1753262079738!5m2!1sen!2sae" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
      <!-- map area start -->


   </main>

   <!-- JS here -->
   <script src="assets/js/vendor/jquery.js"></script>
   <script src="assets/js/vendor/waypoints.js"></script>
   <script src="assets/js/bootstrap-bundle.js"></script>
   <script src="assets/js/swiper-bundle.js"></script>
   <script src="assets/js/slick.js"></script>
   <script src="assets/js/range-slider.js"></script>
   <script src="assets/js/magnific-popup.js"></script>
   <script src="assets/js/nice-select.js"></script>
   <script src="assets/js/purecounter.js"></script>
   <script src="assets/js/wow.js"></script>
   <script src="assets/js/isotope-pkgd.js"></script>
   <script src="assets/js/jarallax.js"></script>
   <script src="assets/js/imagesloaded-pkgd.js"></script>
   <script src="assets/js/ajax-form.js"></script>
   <script src="assets/js/main.js"></script>

   
</body>

</html>